{% extends "base.html" %}

{% block content %}
    <h1>User: {{ user.username }}</h1>
    <hr>
       Restaurant name: <input type="text" name="fname" id="fname" /><br/><br/>
       Email: <input type="text" name="email" id="email" /><br/><br/>
        Password: <input type="text" name="password" id="password" /><br/><br/>
        Contact Number: <input type="text" name="contact_number" id="contact_number" /><br/><br/>
        Points: <input type="text" name="points" id="points" /><br/><br/>
       Cuisine: <input type="text" name="cuisine" id="cuisine" /><br/><br/>
       Weekdays: <input type="text" name="weekdays" id="weekdays" /><br/><br/>
       Weekends: <input type="text" name="Weekends" id="weekends" /><br/><br/>
      Available Seats: <input type="text" name="available_seats" id="available_seats" /><br/><br/>
       About: <input type="text" name="about" id="about" /><br/><br/>
        <button onclick="addRow();">Add Row</button><br/><br/>

    <table style="width:80%" id="table">
  <caption>Edit Customers' data</caption>
  <tr>
    <th>Username</th>
    <th>Email</th>
    <th>Password</th>
    <th>Contact number</th>
    <th>Points</th>
    <th>Cuisine</th>
    <th>Weekdays</th>
    <th>Weekends</th>
    <th>About</th>
    <th>Available Seats</th>
    <th>Actions</th>
  </tr>
  

    {% for post in posts %}
    <tr>
    <td>{{ post.author.username }}</td>
    <td>{{ post.author.email }}</td>
    <td>{{ post.author.password }}</td>
    <td>{{ post.author.contact_number }}</td>
    <td>{{ post.author.points }}</td>
    <td>{{ post.author.cuisine }}</td>
    <td>{{ post.author.weekdays }}</td>
    <td>{{ post.author.weekends }}</td>
    <td>{{ post.author.about }}</td>
    <td>{{ post.author.available_seats }}</td>
    <td><button type="button">Delete</button></td>
  </tr>
    {% endfor %}
   <tr>
<td contenteditable='true'>adf</td>
<td contenteditable='true'>adf</td>
<td contenteditable='true'>afd</td>
<td contenteditable='true'>adf</td>
<td><button type="button">Delete</button></td>
</tr>
   </table>
   
   <script type="text/javascript">
   	var index, table = document.getElementById('table');
            for(var i = 1; i < table.rows.length; i++)
            {
                table.rows[i].cells[4].onclick = function()
                {
                    var c = confirm("do you want to delete this row");
                    if(c === true)
                    {
                        index = this.parentElement.rowIndex;
                        table.deleteRow(index);
                    }
                 
                };
                
            }

      function addRow()
            {
                // get input values
                var fname = document.getElementById('fname').value;
                 var email = document.getElementById('email').value;
                  var contact_number = document.getElementById('contact_number').value;
                  var password = document.getElementById('password').value;
                  var points = document.getElementById('points').value;
                 var cuisine = document.getElementById('cuisine').value;
                  var weekdays= document.getElementById('weekdays').value;
                  var weekends= document.getElementById('weekends').value;
                  var about = document.getElementById('about').value;
                 var available_seats = document.getElementById('available_seats').value;
          
                  // get the html table
                  // 0 = the first table
                  var table = document.getElementsByTagName('table')[0];
                  
                  var newRow = table.insertRow(table.rows.length/2+1);
                
                  var cel1 = newRow.insertCell(0);
                  var cel2 = newRow.insertCell(1);
                  var cel3 = newRow.insertCell(2);
                  var cel4 = newRow.insertCell(3);
                  var cel5 = newRow.insertCell(4);
                  var cel6 = newRow.insertCell(5);
                  var cel7 = newRow.insertCell(6);
                  var cel8 = newRow.insertCell(7);
                  var cel9 = newRow.insertCell(8);
                  var cel10 = newRow.insertCell(9);
                   var cel11 = newRow.insertCell(10);
                  
                  
                  cel1.innerHTML = fname;
                  cel2.innerHTML = email;
                  cel3.innerHTML = password;
                  cel4.innerHTML = contact_number;
                  cel5.innerHTML = points;
                  cel6.innerHTML = cuisine;
                  cel7.innerHTML = weekdays;
                  cel8.innerHTML = weekends;
                  cel9.innerHTML = about;
                  cel10.innerHTML = available_seats;
                  cel11.innerHTML =  cel5.innerHTML + "<br><button type='button' >Delete</button></br>";
            }
   </script>
{% endblock %}