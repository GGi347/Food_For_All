{% extends "base.html" %}

{% block content %}
    <h1>User: {{ user.username }}</h1>
    <hr>
       Username: <input type="text" name="fname" id="fname" /><br/><br/>
       Email: <input type="text" name="email" id="email" /><br/><br/>
        Password: <input type="text" name="password" id="password" /><br/><br/>
        Contact Number: <input type="text" name="contact_number" id="contact_number" /><br/><br/>
        <button onclick="addRow();">Add Row</button><br/><br/>

    <table  id="table">
 
  <tr>
    <th>Username</th>
    <th>Email</th>
    <th>Password</th>
    <th>Contact number</th>
    <th>Actions</th>
  </tr>
  

    {% for post in posts %}
    <tr>
    <td>{{ post.author.username }}</td>
    <td>{{ post.author.email }}</td>
    <td>{{ post.author.password }}</td>
    <td>{{ post.author.contact_number }}</td>
    <td><button type="button">Delete</button></td>
  </tr>
    {% endfor %}
   <tr>
<td contenteditable='true'>adf</td>
<td contenteditable='true'>adf</td>
<td contenteditable='true'>afd</td>
<td contenteditable='true'>adf</td>
<td><button type="button">Delete</button></td>
</tr>
   </table>
   
   <script type="text/javascript">
   	var index, table = document.getElementById('table');
            for(var i = 1; i < table.rows.length; i++)
            {
                table.rows[i].cells[4].onclick = function()
                {
                    var c = confirm("do you want to delete this row");
                    if(c === true)
                    {
                        index = this.parentElement.rowIndex;
                        table.deleteRow(index);
                    }
                 
                };
                
            }

      function addRow()
            {
                // get input values
                var fname = document.getElementById('fname').value;
                 var email = document.getElementById('email').value;
                  var contact_number = document.getElementById('contact_number').value;
                  var password = document.getElementById('password').value;
                  // get the html table
                  // 0 = the first table
                  var table = document.getElementsByTagName('table')[0];
                  
                  var newRow = table.insertRow(table.rows.length/2+1);
                
                  var cel1 = newRow.insertCell(0);
                  var cel2 = newRow.insertCell(1);
                  var cel3 = newRow.insertCell(2);
                  var cel4 = newRow.insertCell(3);
                  var cel5 = newRow.insertCell(4);
                  
                  cel1.innerHTML = fname;
                  cel2.innerHTML = email;
                  cel3.innerHTML = password;
                  cel4.innerHTML = contact_number;
                  cel5.innerHTML =  cel5.innerHTML + "<br><button type='button' >Delete</button></br>";
            }
   </script>
{% endblock %}